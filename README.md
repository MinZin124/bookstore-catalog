# ðŸ“š Bookstore Catalog API

A Spring Boot REST API for managing **Authors** and **Books**, built
with **Spring Data JPA** and **PostgreSQL**.\
This project demonstrates a layered architecture with Controllers,
Services, Repositories, DTOs, and Global Exception Handling.

------------------------------------------------------------------------

## ðŸš€ Setup Instructions

### 1. Clone the repository

``` bash
git clone https://github.com/your-username/bookstore-catalog.git
cd bookstore-catalog
```

### 2. Start PostgreSQL

Make sure you have PostgreSQL running locally (default port: `5432`).\
Create a database:

``` sql
CREATE DATABASE bookstore;
```

### 3. Configure Spring Boot

Edit `src/main/resources/application.properties`:

``` properties
spring.datasource.url=jdbc:postgresql://localhost:5432/bookstore
spring.datasource.username=postgres
spring.datasource.password=yourpassword

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
```

### 4. Run the application

``` bash
./mvnw spring-boot:run
```

------------------------------------------------------------------------

## ðŸ“¡ API Documentation

### Authors

-   **GET /api/authors** â†’ Retrieve all authors\

-   **GET /api/authors/{id}** â†’ Retrieve author by ID\

-   **POST /api/authors** â†’ Create new author

    ``` json
    {
      "firstName": "J.K.",
      "lastName": "Rowling",
      "bio": "British author, best known for Harry Potter."
    }
    ```

-   **PUT /api/authors/{id}** â†’ Update existing author\

-   **DELETE /api/authors/{id}** â†’ Delete author by ID\

-   **GET /api/authors/{id}/books** â†’ Retrieve all books by author

### Books

-   **GET /api/books** â†’ Retrieve all books\

-   **GET /api/books/{id}** â†’ Retrieve book by ID\

-   **POST /api/books** â†’ Create new book

    ``` json
    {
      "title": "Harry Potter and the Sorcerer's Stone",
      "isbn": "9780439708180",
      "publicationYear": 1997,
      "price": 19.99,
      "authorId": 1
    }
    ```

-   **PUT /api/books/{id}** â†’ Update existing book\

-   **DELETE /api/books/{id}** â†’ Delete book by ID

------------------------------------------------------------------------

## âœ… Status Codes

-   `200 OK` â†’ Successful GET/PUT/DELETE\
-   `201 Created` â†’ Resource created (POST)\
-   `400 Bad Request` â†’ Invalid input\
-   `404 Not Found` â†’ Resource not found

------------------------------------------------------------------------

## ðŸ›  Example cURL Commands

### Create an Author

``` bash
curl -X POST http://localhost:8080/api/authors -H "Content-Type: application/json" -d '{"firstName":"J.K.","lastName":"Rowling","bio":"British author"}'
```

### Create a Book

``` bash
curl -X POST http://localhost:8080/api/books -H "Content-Type: application/json" -d '{"title":"Harry Potter 1","isbn":"12345","publicationYear":1997,"price":19.99,"authorId":1}'
```

### Get All Books by Author

``` bash
curl http://localhost:8080/api/authors/1/books
```

------------------------------------------------------------------------

## ðŸ“Œ Notes

-   Database schema is auto-generated by JPA (`ddl-auto=update`). You
    can also provide `schema.sql` and `data.sql` in `src/main/resources`
    for initialization.
